<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stardew Valley | Farming RPG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Tone.js for subtle UI sounds -->
    <script src="https://unpkg.com/tone@14.7.58/build/Tone.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;500;600;700&display=swap');
        
        /* Custom Stardew Valley Color Palette */
        :root {
            --sdv-green: #6b8f3a;
            --sdv-darkgreen: #4a6b2a;
            --sdv-brown: #8b4513;
            --sdv-darkbrown: #5d2906;
            --sdv-blue: #5b9bd5;
            --sdv-yellow: #f2cb61;
            --sdv-orange: #e67e22;
            --sdv-red: #e74c3c;
            --sdv-purple: #9b59b6;
            --sdv-darkblue: #3a5a8a;
            --sdv-lightbrown: #b97a57;
            --sdv-cream: #f8e9d1;
            --sdv-lightgreen: #c4e09f;
            --sdv-softcream: #f0f7da; /* Lighter cream for backgrounds */
            --sdv-softgreen: #e8f4ea; /* Lighter green for backgrounds */
            --sdv-text-dark: #333;
            --sdv-text-light: #f8e9d1;

            /* New Section Background Colors with subtle gradients */
            --bg-farm-field: linear-gradient(to bottom right, #d8e8c8, #c4e09f);
            --bg-forest-path: linear-gradient(to top left, #e0f0e0, #d0e0d0);
            --bg-mountain-cave: linear-gradient(to bottom, #d0d8e0, #c0c8d0);
            --bg-town-square: linear-gradient(to top, #f5f0e8, #e8e0d8);
            --bg-river-bank: linear-gradient(to top, #dbe8f0, #cce0f0);
            --bg-harvest-festival: linear-gradient(to bottom, #f2e0b8, #e6d0a8);
            --bg-progress-journey: linear-gradient(to right, #e8f4ea, #d8e8c8);
            --bg-newsletter-gold: linear-gradient(to bottom right, #f2cb61, #e6b850);
        }
        
        /* Fonts */
        .pixel-font {
            font-family: 'Press Start 2P', cursive;
            letter-spacing: 0;
            line-height: 1.5;
            text-rendering: optimizeLegibility;
        }

        body {
            background-color: var(--sdv-softcream);
            background-image: url('https://stardewvalleywiki.com/mediawiki/images/8/87/Paper.png'); /* Subtle paper texture */
            background-size: 300px;
            color: var(--sdv-text-dark);
            overflow-x: hidden;
            position: relative; /* Needed for global overlays */
            font-size: 1rem;
            line-height: 1.6;
        }

        /* Apply pixel font to all elements by default */
        body, button, input, select, textarea {
            font-family: 'Press Start 2P', cursive;
        }

        /* Global Subtle Pixel Grid Overlay */
        .pixel-grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(to right, rgba(0,0,0,0.08) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0,0,0,0.08) 1px, transparent 1px);
            background-size: 16px 16px;
            pointer-events: none;
            z-index: 0;
            animation: pixel-grid-shift 60s linear infinite;
        }

        @keyframes pixel-grid-shift {
            0% { background-position: 0 0; }
            100% { background-position: 16px 16px; }
        }

        /* Global CRT Scanline Overlay */
        .crt-scanline-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.45) 50%),
                linear-gradient(90deg, rgba(255, 0, 0, 0.1), rgba(0, 255, 0, 0.05), rgba(0, 0, 255, 0.1));
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.25;
        }
        
        /* Pixel Art Decorations */
        .pixel-corner {
            position: absolute;
            width: 32px;
            height: 32px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="0" y="0" width="32" height="32" fill="%236b8f3a"/><rect x="0" y="0" width="16" height="16" fill="%234a6b2a"/><rect x="16" y="16" width="16" height="16" fill="%234a6b2a"/></svg>');
            image-rendering: pixelated;
        }
        
        .pixel-divider {
            height: 24px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 24"><rect x="0" y="0" width="48" height="24" fill="%238b4513"/><rect x="0" y="0" width="24" height="12" fill="%235d2906"/><rect x="24" y="12" width="24" height="12" fill="%235d2906"/><rect x="6" y="3" width="6" height="18" fill="%23b97a57"/><rect x="18" y="3" width="6" height="18" fill="%23b97a57"/><rect x="30" y="3" width="6" height="18" fill="%23b97a57"/><rect x="42" y="3" width="6" height="18" fill="%23b97a57"/></svg>');
            background-size: 48px 24px;
            image-rendering: pixelated;
            margin: 100px auto;
            max-width: 950px;
            width: 90%;
            border-radius: 8px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }
        
        /* Parallax Backgrounds */
        .parallax {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            image-rendering: pixelated;
        }
        
        /* Pixel Border for UI Elements */
        .pixel-border {
            border: 8px solid var(--sdv-darkbrown);
            box-shadow: 
                8px 0 0 var(--sdv-brown),
                0 8px 0 var(--sdv-brown),
                -8px 0 0 var(--sdv-brown),
                0 -8px 0 var(--sdv-brown),
                16px 0 0 var(--sdv-darkbrown),
                0 16px 0 var(--sdv-darkbrown),
                -16px 0 0 var(--sdv-darkbrown),
                0 -16px 0 var(--sdv-darkbrown);
            position: relative;
            border-radius: 16px;
        }
        
        .pixel-border::after {
            content: '';
            position: absolute;
            top: 4px;
            left: 4px;
            right: 4px;
            bottom: 4px;
            border: 4px solid rgba(255,255,255,0.4);
            pointer-events: none;
            border-radius: 12px;
        }
        
        /* Text Stroke Effect */
        .text-stroke {
            text-shadow: 
                4px 4px 0 #000,
                -2px -2px 0 #000,  
                2px -2px 0 #000,
                -2px 2px 0 #000,
                2px 2px 0 #000;
        }
        
        /* Pixelated Button Style */
        .pixel-button {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 28px 60px;
            color: var(--sdv-yellow);
            background: var(--sdv-darkgreen);
            border: none;
            font-family: 'Press Start 2P', cursive;
            font-size: 1.3rem;
            text-transform: uppercase;
            cursor: pointer;
            border: 8px solid var(--sdv-brown);
            box-shadow: 
                8px 0 0 var(--sdv-darkbrown),
                0 8px 0 var(--sdv-darkbrown),
                -8px 0 0 var(--sdv-darkbrown),
                0 -8px 0 var(--sdv-darkbrown),
                12px 12px 0 rgba(0,0,0,0.5);
            transition: all 0.1s ease-out;
            text-shadow: 4px 4px 0 var(--sdv-darkbrown);
            border-radius: 10px;
            overflow: hidden;
            white-space: nowrap;
            transform: translateZ(0);
            line-height: 1;
            /* Adjusted for responsiveness */
            width: 100%;
            max-width: 320px; /* Max width for larger screens */
        }
        
        @media (min-width: 768px) { /* On medium screens and up, adjust width */
            .pixel-button {
                width: auto;
                min-width: 280px; /* A bit smaller min-width for desktop */
            }
        }

        .pixel-button:hover {
            transform: translate(4px, 4px);
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.5);
            text-shadow: 4px 4px 0 var(--sdv-darkbrown), 0 0 12px rgba(255,255,0,0.8);
        }
        
        .pixel-button:active {
            transform: translate(8px, 8px);
            box-shadow: none;
        }

        /* Ripple effect for buttons */
        .pixel-button .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            animation: ripple-effect 0.8s forwards;
            transform: scale(0);
            pointer-events: none;
        }

        @keyframes ripple-effect {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        /* Season Card Styles */
        .season-card-base {
            padding: 2rem;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            border: 6px solid var(--sdv-brown);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.3);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-height: 500px;
        }
        .season-card-base:hover {
            transform: translateY(-12px) rotate(1deg);
            box-shadow: 0 18px 35px rgba(0,0,0,0.35);
        }

        .season-card-base img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 1.5rem;
            border: 3px solid var(--sdv-darkbrown);
            box-shadow: 4px 4px 0 rgba(0,0,0,0.15);
            transition: transform 0.3s ease-in-out;
        }
        .season-card-base:hover img {
            transform: scale(1.05);
        }

        .season-card-base h3 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 0 var(--sdv-darkbrown);
        }
        .season-card-base p {
            font-size: 1rem;
            line-height: 1.5;
            flex-grow: 1;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        .season-card-base .tag {
            font-size: 0.8rem;
            padding: 0.35rem 0.8rem;
            border-radius: 9999px;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.15);
        }


        .season-spring { background-color: var(--bg-farm-field); color: #3a5a1d; }
        .season-summer { background-color: var(--bg-river-bank); color: #1e3d6b; }
        .season-fall { background-color: var(--bg-harvest-festival); color: #5d2906; }
        .season-winter { background-color: var(--bg-mountain-cave); color: #2c4d6b; }
        
        /* General Animations */
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-12px); }
            100% { transform: translateY(0px); }
        }

        /* Progress Bar Animation */
        .progress-animate {
            animation: progress 2s ease-out forwards;
        }
        
        @keyframes progress {
            from { width: 0% }
            to { width: var(--progress-width, 65%); }
        }

        /* Feature Card Hover Effect */
        .feature-card:hover img {
            transform: scale(1.1);
            filter: drop-shadow(0 0 15px rgba(255,255,255,0.8));
        }

        .feature-card:hover .feature-icon {
            transform: translateY(-12px) scale(1.3);
            opacity: 1;
            text-shadow: 0 0 15px rgba(255,255,0,0.9);
        }
        
        /* Section Entrance Animations */
        .section-animate {
            opacity: 0;
            transform: translateY(40px);
            transition: all 1.2s cubic-bezier(0.23, 1, 0.32, 1);
        }
        
        .section-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Character Card Specific Styles */
        .character-card {
            transition: all 0.3s ease-in-out;
            position: relative;
            overflow: hidden;
            background-color: var(--sdv-cream);
            border-radius: 12px;
            border: 6px solid var(--sdv-brown);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.3);
            min-height: 480px;
            display: flex;
            flex-direction: column;
        }
        
        .character-card:hover {
            transform: scale(1.07) rotate(2deg);
            z-index: 10;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }
        
        .character-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(255,255,255,0.3) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .character-card:hover::before {
            opacity: 1;
        }

        .character-card .pixel-character {
            image-rendering: pixelated;
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out;
            border-bottom: 3px solid var(--sdv-brown);
        }

        .character-card:hover .pixel-character {
            transform: scale(1.07);
            filter: brightness(1.2) saturate(1.2);
        }

        .character-card-info {
            background-color: var(--sdv-darkgreen);
            color: var(--sdv-yellow);
            padding: 1rem;
            border-top: 6px solid var(--sdv-brown);
            text-shadow: 2px 2px 0 var(--sdv-darkbrown);
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .character-card-info p {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1rem;
        }

        /* Tooltip for characters */
        .character-tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.98);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            z-index: 100;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateY(20px);
            min-width: 250px;
            max-width: 400px;
            box-shadow: 10px 10px 0 rgba(0,0,0,0.8);
            border: 6px solid var(--sdv-brown);
            text-align: left;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="rgba(255,255,255,0.1)"/><rect x="0" y="0" width="8" height="8" fill="rgba(255,255,255,0.05)"/><rect x="8" y="8" width="8" height="8" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: 16px 16px;
        }

        .character-tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        .character-tooltip::before {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 30px;
            height: 30px;
            background-color: rgba(0, 0, 0, 0.98);
            border-right: 6px solid var(--sdv-brown);
            border-bottom: 6px solid var(--sdv-brown);
            z-index: -1;
        }

        .character-tooltip.below::before {
            top: -15px;
            bottom: auto;
            border-top: 6px solid var(--sdv-brown);
            border-left: 6px solid var(--sdv-brown);
            border-right: none;
            border-bottom: none;
        }
        
        /* Hero Section Specific */
        .hero-overlay {
            background: linear-gradient(to bottom, rgba(58,90,138,0.95) 0%, rgba(58,90,138,0.7) 50%, rgba(58,90,138,0.95) 100%);
        }

        /* Hero Section Scanline/Grain Overlay */
        .hero-scanline-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0,0,0,0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px);
            background-size: 2px 2px;
            pointer-events: none;
            z-index: 1;
            opacity: 0.7;
        }

        /* Section Headings */
        .section-heading-wrapper {
            display: inline-block;
            padding: 16px 32px;
            background-color: var(--sdv-cream);
            border: 8px solid var(--sdv-brown);
            position: relative;
            z-index: 1;
            border-radius: 16px;
            box-shadow: 8px 8px 0 rgba(0,0,0,0.4);
            margin-bottom: 40px;
        }
        .section-heading-wrapper::before,
        .section-heading-wrapper::after {
            content: '';
            position: absolute;
            width: 36px;
            height: 36px;
            background-color: var(--sdv-darkgreen);
            border: 4px solid var(--sdv-brown);
            transform: rotate(45deg);
            z-index: -1;
        }
        .section-heading-wrapper::before {
            top: -18px;
            left: -18px;
        }
        .section-heading-wrapper::after {
            bottom: -18px;
            right: -18px;
        }

        /* Milestone Card */
        .milestone-card {
            transition: all 0.3s ease-in-out;
            border-radius: 12px;
            cursor: pointer;
            position: relative;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 300px;
            text-align: center;
            box-shadow: 10px 10px 0 rgba(0,0,0,0.4);
            border: 6px solid var(--sdv-brown);
            background-color: var(--sdv-lightgreen);
        }
        .milestone-card:hover {
            transform: translateY(-15px) rotate(-1deg);
            box-shadow: 0 25px 50px rgba(0,0,0,0.45);
            background-color: var(--sdv-green);
            color: var(--sdv-cream);
        }
        .milestone-card .icon-wrapper {
            background-color: rgba(255,255,255,0.95);
            border-radius: 50%;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
            transition: all 0.3s;
            width: 100px;
            height: 100px;
            font-size: 4rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            border: 4px solid var(--sdv-darkbrown);
        }
        .milestone-card:hover .icon-wrapper {
            transform: scale(1.2) rotate(8deg);
            background-color: var(--sdv-yellow);
            color: var(--sdv-darkgreen);
            box-shadow: 0 0 20px rgba(255,255,0,0.9);
        }

        /* Milestone Completion Styles */
        .milestone-card.completed {
            background-color: var(--sdv-darkgreen);
            color: var(--sdv-yellow);
            border-color: var(--sdv-darkbrown);
            box-shadow: 0 12px 25px rgba(0,0,0,0.5);
            transform: scale(1.05);
        }

        .milestone-card.completed .completion-checkmark {
            opacity: 1;
            transform: scale(1);
            animation: bounce-in 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes bounce-in {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.3); opacity: 1; }
            100% { transform: scale(1); }
        }

        /* Milestone Card Text */
        .milestone-card h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            text-stroke: 3px 3px 0 var(--sdv-darkgreen);
        }
        .milestone-card p {
            font-size: 1rem;
            line-height: 1.5;
            word-wrap: break-word;
            overflow-wrap: break-word;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 1rem;
            padding: 0 1rem;
            color: var(--sdv-text-dark);
        }
        .milestone-card.completed p {
            color: var(--sdv-cream);
        }

        /* Footer */
        footer {
            background-color: #2c3e50;
            border-top: 8px solid var(--sdv-brown);
            box-shadow: inset 0 10px 20px rgba(0,0,0,0.5);
        }
        footer a:hover {
            color: var(--sdv-yellow);
            text-shadow: 0 0 10px rgba(255,255,0,0.6);
        }

        /* New subtle animations */
        @keyframes sparkle {
            0%, 100% { opacity: 1; text-shadow: 0 0 10px rgba(255,255,0,0.8); }
            50% { opacity: 0.7; text-shadow: none; }
        }
        .animate-sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes flicker {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(0.95); }
        }
        .animate-flicker {
            animation: flicker 10s ease-in-out infinite;
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }

        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .animate-bounce-slow {
            animation: bounce-slow 3s infinite;
        }

        /* Image pixelation for specific elements */
        .image-pixelated {
            image-rendering: pixelated;
        }

        /* Increased padding for feature cards */
        .feature-card .p-5 {
            padding: 2rem;
        }

        /* Increased padding for season cards */
        .season-spring, .season-summer, .season-fall, .season-winter {
            padding: 2rem;
        }

        /* Adjustments for character card info padding */
        .character-card-info {
            padding: 1.5rem;
        }

        /* Adjustments for general text size within cards for readability with pixel font */
        .text-base {
            font-size: 1rem;
        }
        .text-lg {
            font-size: 1.1rem;
        }
        .text-xl {
            font-size: 1.2rem;
        }

        /* Styles for the redesigned About Game cards */
        .about-game-card {
            background-color: var(--sdv-cream);
            border: 6px solid var(--sdv-darkbrown);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 8px 8px 0 rgba(0,0,0,0.3);
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .about-game-card:hover {
            transform: translate(3px, 3px) scale(1.02);
            box-shadow: 5px 5px 0 rgba(0,0,0,0.4);
        }

        .about-game-card .icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--sdv-darkgreen);
            text-shadow: 4px 4px 0 rgba(0,0,0,0.2);
            transition: transform 0.2s ease-out, text-shadow 0.2s ease-out;
        }
        .about-game-card:hover .icon {
            transform: translateY(-5px) scale(1.1);
            text-shadow: 0 0 15px rgba(255,255,0,0.8);
        }

        .about-game-card h3 {
            color: var(--sdv-brown);
            text-shadow: 3px 3px 0 rgba(0,0,0,0.2);
            margin-bottom: 0.8rem;
            font-size: 1.3rem;
        }

        .about-game-card p {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--sdv-text-dark);
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        /* Specific icon colors for the about cards */
        .about-game-card.farming .icon { color: var(--sdv-green); }
        .about-game-card.fishing .icon { color: var(--sdv-blue); }
        .about-game-card.mining .icon { color: var(--sdv-purple); }
        .about-game-card.relationships .icon { color: var(--sdv-red); }

        /* Hero Section Buttons Responsiveness */
        .hero-section-buttons {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            padding: 0 2rem;
            flex-wrap: wrap;
            z-index: 20;
        }

        @media (min-width: 768px) {
            .hero-section-buttons {
                flex-direction: row;
                padding: 0;
                flex-wrap: nowrap;
            }
        }

        /* Style for the quote over the background image */
        .quote-overlay-text {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 2rem 2.5rem;
            border-radius: 1.2rem;
            border: 5px solid var(--sdv-brown);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.4);
            color: var(--sdv-cream);
            text-shadow: 4px 4px 0 var(--sdv-darkbrown);
            position: relative;
            z-index: 2;
            margin-bottom: 3rem;
        }
        .quote-overlay-text small {
            color: var(--sdv-lightgreen);
            text-shadow: 3px 3px 0 var(--sdv-darkgreen);
        }

        /* Section Specific Backgrounds & Living Textures */
        @keyframes subtle-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.005); opacity: 0.98; } /* Very subtle scale and transparency change */
        }

        #features { background: var(--bg-farm-field); animation: subtle-pulse 20s ease-in-out infinite; }
        #about { background: var(--bg-town-square); animation: subtle-pulse 22s ease-in-out infinite; }
        #characters { background: var(--bg-forest-path); animation: subtle-pulse 21s ease-in-out infinite; }
        #seasons { background: var(--bg-harvest-festival); animation: subtle-pulse 23s ease-in-out infinite; }
        #farm { background: var(--bg-river-bank); animation: subtle-pulse 24s ease-in-out infinite; }
        #community { background: var(--bg-mountain-cave); animation: subtle-pulse 25s ease-in-out infinite; }
        .game-progress-section { background: var(--bg-progress-journey); animation: subtle-pulse 20s ease-in-out infinite; }
        .newsletter-section { background: var(--bg-newsletter-gold); animation: subtle-pulse 22s ease-in-out infinite; }

        /* Particle Animations - General */
        @keyframes float-up {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        @keyframes float-left {
            0% { transform: translateX(0) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateX(-100px) rotate(-360deg); opacity: 0; }
        }

        @keyframes float-right {
            0% { transform: translateX(0) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateX(100px) rotate(360deg); opacity: 0; }
        }

        @keyframes float-down {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(100px) rotate(360deg); opacity: 0; }
        }

        /* Particle Container */
        .particle-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 1; /* Below content, above background */
        }

        /* Individual Particle Style (hidden by default) */
        .particle {
            position: absolute;
            font-size: 1.5rem; /* Default particle size */
            opacity: 0;
            pointer-events: none;
            white-space: nowrap; /* Prevent emoji from wrapping */
        }

        /* Section-specific particle animations */

        /* Features Section Particles */
        #features .particle {
            animation: float-up 10s linear infinite;
            color: var(--sdv-green);
        }
        #features .particle:nth-child(1) { left: 10%; top: 80%; animation-delay: 0s; font-size: 1.8rem; }
        #features .particle:nth-child(2) { left: 30%; top: 90%; animation-delay: 2s; font-size: 1.5rem; }
        #features .particle:nth-child(3) { left: 50%; top: 70%; animation-delay: 4s; font-size: 2rem; }
        #features .particle:nth-child(4) { left: 70%; top: 85%; animation-delay: 6s; font-size: 1.7rem; }
        #features .particle:nth-child(5) { left: 90%; top: 75%; animation-delay: 8s; font-size: 1.6rem; }

        /* About Section Particles */
        #about .particle {
            animation: float-up 12s linear infinite;
            color: var(--sdv-yellow); /* Sparkle color */
        }
        #about .particle:nth-child(1) { left: 5%; top: 85%; animation-delay: 0s; font-size: 1.2rem; }
        #about .particle:nth-child(2) { left: 25%; top: 75%; animation-delay: 3s; font-size: 1.5rem; }
        #about .particle:nth-child(3) { left: 45%; top: 90%; animation-delay: 6s; font-size: 1.3rem; }
        #about .particle:nth-child(4) { left: 65%; top: 80%; animation-delay: 9s; font-size: 1.6rem; }
        #about .particle:nth-child(5) { left: 85%; top: 70%; animation-delay: 12s; font-size: 1.4rem; }

        /* Characters Section Particles */
        #characters .particle {
            animation: float-down 15s linear infinite;
            color: var(--sdv-brown); /* Leaf color */
        }
        #characters .particle:nth-child(1) { left: 15%; top: 10%; animation-delay: 0s; font-size: 1.8rem; }
        #characters .particle:nth-child(2) { left: 40%; top: 5%; animation-delay: 3s; font-size: 2rem; }
        #characters .particle:nth-child(3) { left: 60%; top: 15%; animation-delay: 6s; font-size: 1.7rem; }
        #characters .particle:nth-child(4) { left: 85%; top: 8%; animation-delay: 9s; font-size: 1.9rem; }

        /* Seasons Section Particles (general for the section, specific for cards below) */
        #seasons .particle {
            animation: float-up 18s linear infinite;
            color: var(--sdv-orange); /* General harvest feel */
        }
        #seasons .particle:nth-child(1) { left: 10%; top: 95%; animation-delay: 0s; font-size: 2rem; }
        #seasons .particle:nth-child(2) { left: 30%; top: 80%; animation-delay: 5s; font-size: 1.8rem; }
        #seasons .particle:nth-child(3) { left: 70%; top: 90%; animation-delay: 10s; font-size: 2.2rem; }
        #seasons .particle:nth-child(4) { left: 90%; top: 75%; animation-delay: 15s; font-size: 1.9rem; }

        /* Seasons Card Specific Particles */
        .season-card-base .card-particle-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 0; /* Behind card content */
        }
        .season-card-base .card-particle {
            position: absolute;
            font-size: 1.2rem;
            opacity: 0;
            pointer-events: none;
            white-space: nowrap;
        }

        /* Spring Card Particles */
        .season-spring .card-particle { animation: float-up 8s linear infinite; color: #f7a8b8; } /* Pink for blossoms */
        .season-spring .card-particle:nth-child(1) { left: 15%; top: 80%; animation-delay: 0s; }
        .season-spring .card-particle:nth-child(2) { left: 40%; top: 90%; animation-delay: 2s; }
        .season-spring .card-particle:nth-child(3) { left: 70%; top: 70%; animation-delay: 4s; }

        /* Summer Card Particles */
        .season-summer .card-particle { animation: float-up 7s linear infinite; color: #ffd700; } /* Gold for sun */
        .season-summer .card-particle:nth-child(1) { left: 20%; top: 75%; animation-delay: 0s; }
        .season-summer .card-particle:nth-child(2) { left: 50%; top: 85%; animation-delay: 2s; }
        .season-summer .card-particle:nth-child(3) { left: 80%; top: 65%; animation-delay: 4s; }

        /* Fall Card Particles */
        .season-fall .card-particle { animation: float-down 9s linear infinite; color: #d68910; } /* Darker orange for fall leaves */
        .season-fall .card-particle:nth-child(1) { left: 10%; top: 10%; animation-delay: 0s; }
        .season-fall .card-particle:nth-child(2) { left: 35%; top: 5%; animation-delay: 3s; }
        .season-fall .card-particle:nth-child(3) { left: 65%; top: 15%; animation-delay: 6s; }

        /* Winter Card Particles */
        .season-winter .card-particle { animation: float-down 10s linear infinite; color: #ffffff; } /* White for snowflakes */
        .season-winter .card-particle:nth-child(1) { left: 5%; top: 5%; animation-delay: 0s; }
        .season-winter .card-particle:nth-child(2) { left: 25%; top: 15%; animation-delay: 2s; }
        .season-winter .card-particle:nth-child(3) { left: 50%; top: 10%; animation-delay: 4s; }
        .season-winter .card-particle:nth-child(4) { left: 75%; top: 20%; animation-delay: 6s; }

        /* Farm Types Section Particles */
        #farm .particle {
            animation: float-up 10s linear infinite;
            color: #87ceeb; /* Light blue for bubbles */
            font-size: 1.8rem;
        }
        #farm .particle:nth-child(1) { left: 10%; top: 90%; animation-delay: 0s; }
        #farm .particle:nth-child(2) { left: 30%; top: 80%; animation-delay: 2s; }
        #farm .particle:nth-child(3) { left: 50%; top: 70%; animation-delay: 4s; }
        #farm .particle:nth-child(4) { left: 70%; top: 85%; animation-delay: 6s; }
        #farm .particle:nth-child(5) { left: 90%; top: 75%; animation-delay: 8s; }

        /* Community Center Section Particles */
        #community .particle {
            animation: float-up 12s linear infinite;
            color: #e0b0ff; /* Light purple for gems */
            font-size: 1.7rem;
        }
        #community .particle:nth-child(1) { left: 5%; top: 85%; animation-delay: 0s; }
        #community .particle:nth-child(2) { left: 25%; top: 75%; animation-delay: 3s; }
        #community .particle:nth-child(3) { left: 45%; top: 90%; animation-delay: 6s; }
        #community .particle:nth-child(4) { left: 65%; top: 80%; animation-delay: 9s; }
        #community .particle:nth-child(5) { left: 85%; top: 70%; animation-delay: 12s; }

        /* Game Progress Section Particles */
        .game-progress-section .particle {
            animation: float-up 8s linear infinite;
            color: var(--sdv-yellow); /* Golden sparkles */
            font-size: 1.6rem;
        }
        .game-progress-section .particle:nth-child(1) { left: 10%; top: 90%; animation-delay: 0s; }
        .game-progress-section .particle:nth-child(2) { left: 30%; top: 70%; animation-delay: 2s; }
        .game-progress-section .particle:nth-child(3) { left: 50%; top: 85%; animation-delay: 4s; }
        .game-progress-section .particle:nth-child(4) { left: 70%; top: 75%; animation-delay: 6s; }
        #game-progress-section .particle:nth-child(5) { left: 90%; top: 90%; animation-delay: 8s; }

        /* Newsletter Section Particles */
        .newsletter-section .particle {
            animation: float-up 9s linear infinite;
            color: #ffd700; /* Gold for coins */
            font-size: 1.8rem;
        }
        .newsletter-section .particle:nth-child(1) { left: 15%; top: 80%; animation-delay: 0s; }
        .newsletter-section .particle:nth-child(2) { left: 40%; top: 90%; animation-delay: 2s; }
        .newsletter-section .particle:nth-child(3) { left: 60%; top: 70%; animation-delay: 4s; }
        .newsletter-section .particle:nth-child(4) { left: 85%; top: 85%; animation-delay: 6s; }

        /* Cursor Trail */
        .cursor-trail-particle {
            position: absolute;
            font-size: 1.2rem; /* Size of cursor trail particles */
            opacity: 0;
            pointer-events: none;
            white-space: nowrap;
            animation: fade-and-shrink 0.8s forwards; /* Faster fade for trail */
            z-index: 9998; /* Below CRT overlay */
            image-rendering: pixelated; /* Ensure pixelated look */
        }

        @keyframes fade-and-shrink {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        /* Farm Type Card Specific Styles */
        .farm-type-card {
            background-color: var(--sdv-lightgreen);
            border-radius: 12px;
            overflow: hidden;
            border: 6px solid var(--sdv-brown);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.3);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-height: 550px; /* Increased min-height for better balance */
        }
        .farm-type-card:hover {
            transform: translateY(-12px) rotate(1deg);
            box-shadow: 0 18px 35px rgba(0,0,0,0.35);
        }
        .farm-type-card img {
            width: 100%;
            height: 300px; /* Made image slightly bigger */
            object-fit: cover;
            display: block;
            image-rendering: pixelated;
            transition: transform 0.3s ease-in-out;
            /* Removed border-bottom-4 here */
        }
        .farm-type-card:hover img {
            transform: scale(1.05);
        }
        .farm-type-card .card-content {
            padding: 2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Pushes bottom elements to the bottom */
            width: 100%;
        }
        .farm-type-card h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 0 var(--sdv-darkgreen);
            color: var(--sdv-darkgreen);
        }
        .farm-type-card p {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--sdv-text-dark);
            flex-grow: 1; /* Allows description to take available space */
            margin-bottom: 1.5rem; /* Space before the bottom stats */
        }
        .farm-type-card .stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            font-size: 0.9rem;
            color: var(--sdv-text-dark);
            flex-wrap: wrap; /* Allow stats to wrap on smaller screens */
            gap: 0.5rem;
        }
        .farm-type-card .stats span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: normal; /* Ensure text wraps within the span */
            word-break: break-word; /* Break long words if necessary */
        }
        .farm-type-card .stats i {
            font-size: 1.5rem;
        }

        /* Adjustments for About and Community Center images */
        #about .md\:w-1\/2 img,
        #community .md\:w-1\/2 img {
            height: 80vh; /* Responsive height for mobile */
            max-height: 500px; /* Max height for larger screens */
            object-fit: cover;
            margin-top: 0; /* Remove top margin */
            margin-bottom: 0; /* Remove bottom margin */
        }
        @media (min-width: 768px) {
            #about .md\:w-1\/2 img,
            #community .md\:w-1\/2 img {
                height: 500px; /* Fixed height for desktop */
            }
        }

        #about .flex-col, #community .flex-col {
            padding-top: 0;
            padding-bottom: 0;
        }
        #about .flex-col > div, #community .flex-col > div {
            margin-top: 0;
            margin-bottom: 0;
        }

        /* Loading spinner for audio */
        .audio-loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--sdv-yellow);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin-left: 1rem;
            display: inline-block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* New subtle music button style */
        .music-toggle-button {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000; /* Ensure it's on top */
            background-color: rgba(74, 107, 42, 0.9); /* sdv-darkgreen with opacity */
            color: var(--sdv-yellow);
            border: 4px solid var(--sdv-brown);
            border-radius: 9999px; /* Fully round */
            width: 60px; /* Smaller size */
            height: 60px; /* Smaller size */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem; /* Icon size */
            cursor: pointer;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.4);
            transition: all 0.2s ease-in-out;
            text-shadow: 2px 2px 0 var(--sdv-darkbrown);
        }

        .music-toggle-button:hover {
            background-color: var(--sdv-green);
            transform: translateY(-2px);
            box-shadow: 6px 6px 0 rgba(0,0,0,0.5);
        }

        .music-toggle-button:active {
            transform: translateY(2px);
            box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
        }

        .music-toggle-button .audio-loading-spinner {
            width: 20px;
            height: 20px;
            border-width: 3px;
            margin-left: 0; /* No margin for a small button */
        }
    </style>
</head>
<body class="pixel-font animate-flicker">
    <!-- Background Music -->
    <audio id="background-music" loop>
        <source src="svvv.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Subtle Pixel Grid Overlay -->
    <div class="pixel-grid-overlay"></div>
    <!-- Global CRT Scanline Overlay -->
    <div class="crt-scanline-overlay"></div>

    <!-- Cursor Trail Container -->
    <div id="cursor-trail-container"></div>

    <!-- Music Toggle Button (Fixed Position) -->
    <button id="music-toggle-button" class="music-toggle-button">
        <i id="music-icon" class="fas fa-music"></i>
        <span id="music-loading-spinner" class="audio-loading-spinner hidden"></span>
    </button>

    <!-- Navigation -->
    <nav class="bg-[var(--sdv-darkgreen)] text-[var(--sdv-yellow)] pixel-font sticky top-0 z-50 shadow-lg border-b-6 border-[var(--sdv-brown)]">
        <div class="container mx-auto px-6 lg:px-8 py-4 flex justify-between items-center max-w-screen-xl">
            <div class="flex items-center space-x-3">
                <i class="fas fa-leaf text-yellow-300 text-3xl animate-spin-slow"></i>
                <a href="#" class="text-xl md:text-3xl hover:text-yellow-300 transition-colors duration-200 text-stroke">STARDEW VALLEY</a>
            </div>
            <div class="hidden md:flex space-x-8 text-lg">
                <a href="#about" class="hover:text-yellow-300 transition hover:text-stroke">About</a>
                <a href="#characters" class="hover:text-yellow-300 transition hover:text-stroke">Characters</a>
                <a href="#seasons" class="hover:text-yellow-300 transition hover:text-stroke">Seasons</a>
                <a href="#farm" class="hover:text-yellow-300 transition hover:text-stroke">Your Farm</a>
                <a href="#community" class="hover:text-yellow-300 transition">Community</a>
            </div>
            <button class="md:hidden text-3xl text-yellow-300" id="mobile-menu-button">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div class="md:hidden hidden bg-green-900 px-4 py-3" id="mobile-menu">
            <div class="flex flex-col space-y-4">
                <a href="#about" class="hover:text-yellow-300 transition py-2">About</a>
                <a href="#characters" class="hover:text-yellow-300 transition py-2">Characters</a>
                <a href="#seasons" class="hover:text-yellow-300 transition py-2">Seasons</a>
                <a href="#farm" class="hover:text-yellow-300 transition py-2">Your Farm</a>
                <a href="#community" class="hover:text-yellow-300 transition">Community</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="parallax min-h-screen flex items-center justify-center text-center relative overflow-hidden" 
            style="background-image: url('vv7.png');">
        <div class="absolute inset-0 hero-overlay"></div>
        <div class="hero-scanline-overlay"></div> <!-- New scanline/grain overlay -->
        <div class="absolute inset-0" style="background-image: url('https://stardewvalleywiki.com/mediawiki/images/9/9e/Clouds.png'); background-size: 300px; opacity: 0.4; animation: moveClouds 60s linear infinite;"></div>
        <div class="relative z-10 text-white px-4 py-10 pb-20 max-w-5xl mx-auto">
            <div class="pixel-corner top-0 left-0"></div>
            <div class="pixel-corner top-0 right-0 transform rotate-90"></div>
            <div class="pixel-corner bottom-0 left-0 transform -rotate-90"></div>
            <div class="pixel-corner bottom-0 right-0 transform rotate-180"></div>
            
            <div class="pixel-border inline-block p-6 mb-8 relative bg-[rgba(248,233,209,0.7)] shadow-xl">
                <h1 class="pixel-font text-5xl md:text-7xl mb-0 text-[var(--sdv-yellow)] text-stroke leading-tight">STARDEW VALLEY</h1>
                <div class="absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-[var(--sdv-darkbrown)] rounded-b-lg"></div>
            </div>
            
            <!-- Quote with background removed, now overlaying the main hero background -->
            <p class="pixel-font text-xl md:text-3xl max-w-3xl mx-auto quote-overlay-text">
                <span class="text-[var(--sdv-yellow)] animate-sparkle">üåô</span> Tumble into farm life, where even weeds feel magical when I‚Äôm with you <span class="text-[var(--sdv-yellow)] animate-sparkle">üåæ</span><br>
                <small class="text-base block mt-3">‚ÄúEvery day‚Äôs a little chaotic, super cozy, and kinda perfect ‚Äî just like us.‚Äù ‚Äì Not IGN, just your loyal farmhand, Doofy üíõ</small>
            </p>
            
            <!-- Removed the old music button from here -->
        </div>
    </header>

    <!-- Game Features Section -->
    <section class="py-20 relative overflow-hidden section-animate" id="features">
        <div class="pixel-divider"></div>
        <div class="container mx-auto px-8 lg:px-10 text-center max-w-screen-xl">
            <div class="section-heading-wrapper">
                <h2 class="pixel-font text-4xl md:text-5xl text-green-800 text-stroke">GAME FEATURES</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">"So much to do, so little time!"</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 10%; top: 80%;">üçÉ</span>
                <span class="particle" style="left: 30%; top: 90%;">üå±</span>
                <span class="particle" style="left: 50%; top: 70%;">üåæ</span>
                <span class="particle" style="left: 70%; top: 85%;">üåø</span>
                <span class="particle" style="left: 90%; top: 75%;">üçÉ</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
                <!-- Feature 1: Farming & Crafting -->
                <div class="feature-card bg-[var(--sdv-lightgreen)] rounded-xl overflow-hidden pixel-border shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-3">
                    <div class="relative h-64 overflow-hidden border-b-4 border-[var(--sdv-brown)]">
                        <img src="vv12.png" alt="Farming" class="w-full h-full object-cover transition-transform duration-500 image-pixelated">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-5">
                            <h3 class="pixel-font text-2xl text-white text-stroke flex items-center justify-center gap-3">
                                <i class="fas fa-seedling text-green-300 feature-icon opacity-0 transition-all duration-300"></i>
                                üåæ Farming & Crafting
                            </h3>
                        </div>
                    </div>
                    <div class="p-8 text-gray-800">
                        <p class="mb-5 text-lg leading-relaxed">With Quackers running the show and Doofy enthusiastically following instructions, we grow crops, raise adorable animals, and somehow manage to turn eggs into mayo (intentionally‚Ä¶ most of the time). Expect cozy vibes, clinking kegs, and the occasional farm crisis we laugh through together.</p>
                        <div class="flex flex-wrap gap-3 justify-center">
                            <span class="px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm pixel-font border border-green-300 shadow-sm">üåΩ 28 Crops</span>
                            <span class="px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm pixel-font border border-green-300 shadow-sm">üêÑ 12 Very Judgy Animals</span>
                            <span class="px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm pixel-font border border-green-300 shadow-sm">üçì 100+ Recipes (yes, some are edible‚Ä¶ barely)</span>
                        </div>
                    </div>
                </div>

                <!-- Feature 2: Mining & Combat -->
                <div class="feature-card bg-[var(--sdv-lightgreen)] rounded-xl overflow-hidden pixel-border shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-3">
                    <div class="relative h-64 overflow-hidden border-b-4 border-[var(--sdv-brown)]">
                        <img src="vv11.png" alt="Mining" class="w-full h-full object-cover transition-transform duration-500 image-pixelated">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-5">
                            <h3 class="pixel-font text-2xl text-white text-stroke flex items-center justify-center gap-3">
                                <i class="fas fa-pickaxe text-gray-300 feature-icon opacity-0 transition-all duration-300"></i>
                                ‚õèÔ∏è Mining & Combat
                            </h3>
                        </div>
                    </div>
                    <div class="p-8 text-gray-800">
                        <p class="mb-5 text-lg leading-relaxed">Quackers charges into battle like a fearless legend ‚Äî Doofy follows closely behind with snacks, moral support, and occasional screaming. We explore deep, bonk weird creatures, and dig up sparkly treasures to make our tools (and maybe ourselves) a little stronger.</p>
                        <div class="flex flex-wrap gap-3 justify-center">
                            <span class="px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm pixel-font border border-blue-300 shadow-sm">üï≥Ô∏è 120 Floors (and too many ladders)</span>
                            <span class="px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm pixel-font border border-blue-300 shadow-sm"> 20+ Monsters (most of them scary, all of them bonkable)</span>
                            <span class="px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm pixel-font border border-blue-300 shadow-sm">üõ†Ô∏è 5 Tool Levels (Doofy still uses the wrong one sometimes)</span>
                        </div>
                    </div>
                </div>

                <!-- Feature 3: Festivals & Events -->
                <div class="feature-card bg-[var(--sdv-lightgreen)] rounded-xl overflow-hidden pixel-border shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-3">
                    <div class="relative h-64 overflow-hidden border-b-4 border-[var(--sdv-brown)]">
                        <img src="vv10.png" alt="Festivals" class="w-full h-full object-cover transition-transform duration-500 image-pixelated">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-5">
                            <h3 class="pixel-font text-2xl text-white text-stroke flex items-center justify-center gap-3">
                                <i class="fas fa-fireworks text-yellow-300 feature-icon opacity-0 transition-all duration-300"></i>
                                üéâ Festivals & Events
                            </h3>
                        </div>
                    </div>
                    <div class="p-8 text-gray-800">
                        <p class="mb-5 text-lg leading-relaxed">Quackers arrives with a plan. Doofy arrives late, holding the wrong item, but smiling like a dork in love. From frantic egg hunts to slow-dancing with jellyfish under the stars, every festival is a mix of chaos, cuddles, and confetti. Somehow, we make it magical.</p>
                        <div class="flex flex-wrap gap-3 justify-center">
                            <span class="px-4 py-2 bg-purple-100 text-purple-800 rounded-full text-sm pixel-font border border-purple-300 shadow-sm">ü•ö 8 Festivals (and at least 3 minor disasters)</span>
                            <span class="px-4 py-2 bg-purple-100 text-purple-800 rounded-full text-sm pixel-font tag border border-purple-300 shadow-sm">üéÇ Birthdays (we never forget each other‚Äôs üíõ)</span>
                            <span class="px-4 py-2 bg-purple-100 text-purple-800 rounded-full text-sm pixel-font tag border border-purple-300 shadow-sm">‚ú® Unexpected moments, stolen kiths, and seasonal chaos</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 relative section-animate">
        <div class="pixel-divider"></div>
        <div class="container mx-auto px-8 lg:px-10 text-center max-w-screen-xl">
            <div class="section-heading-wrapper">
                <h2 class="pixel-font text-4xl md:text-5xl text-green-800 text-stroke">ABOUT THE GAME</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">Quackers: "Just one more day..." Doofy: hasn‚Äôt blinked in 3 hours, but would follow her into 100 more.</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 5%; top: 85%;">‚ú®</span>
                <span class="particle" style="left: 25%; top: 75%;">üåü</span>
                <span class="particle" style="left: 45%; top: 90%;">‚ú®</span>
                <span class="particle" style="left: 65%; top: 80%;">üåü</span>
                <span class="particle" style="left: 85%; top: 70%;">‚ú®</span>
            </div>

            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2">
                    <!-- Image Placeholder for About Section Farm -->
                    <img src="vv5.png" alt="Stardew Valley Farm" class="w-full h-80 sm:h-96 md:h-[500px] object-cover rounded-xl pixel-border shadow-2xl image-pixelated parallax-bg border-8 border-[var(--sdv-brown)]">
                </div>
                <div class="md:w-1/2 text-left">
                    <p class="text-xl mb-8 leading-relaxed">Stardew Valley is where Quackers runs a tight, optimized farming empire‚Ä¶ and Doofy runs into fences. A lot.</p>
                    <p class="text-xl mb-10 leading-relaxed">Armed with Quackers‚Äô spreadsheets, my emergency snacks, and the shared understanding that we WILL restart the day if someone forgets to pet the chickens. We‚Äôve turned Grandpa‚Äôs peaceful farm into a whirlwind of ducks, crops, cows, and joyful mayhem. Quackers is always three steps ahead. I‚Äôm usually two steps behind, accidentally giving a raw fish to someone‚Äôs grandma. And yet‚Ä¶ it works. We hustle, we giggle, we passionately debate sprinkler layouts, and no matter what ‚Äî we end the day (eventually) with hearts full of love and backpacks full of nonsense. And somehow‚Ä¶ it works. We sprint. We scream. We emotionally argue over sprinkler placements. But we always end the day (around 4AM) with hearts full of love and a backpack full of absolutely useless but somehow essential junk. It‚Äôs not always efficient, but it‚Äôs our perfectly imperfect little farm. And I wouldn‚Äôt trade a single second of it. It‚Äôs chaotic. It‚Äôs messy. It‚Äôs magic. And it‚Äôs ours.</p>
                    <div class="grid grid-cols-2 gap-10">
                        <!-- Redesigned Farming Card -->
                        <div class="about-game-card farming border-6 border-[var(--sdv-darkgreen)] shadow-lg hover:shadow-xl">
                            <i class="fas fa-tractor icon"></i>
                            <h3 class="font-bold pixel-font text-xl mb-2">Farming</h3>
                            <p class="text-base">Quackers strategizes every square. Doofy pets the cow. Chaos? Thriving.</p>
                        </div>
                        <!-- Redesigned Fishing Card -->
                        <div class="about-game-card fishing border-6 border-[var(--sdv-darkgreen)] shadow-lg hover:shadow-xl">
                            <i class="fas fa-fish icon"></i>
                            <h3 class="font-bold pixel-font text-xl mb-2">Fishing</h3>
                            <p class="text-base">Cast. Panic. Miss. Apologize to Linus. Repeat.</p>
                        </div>
                        <!-- Redesigned Mining Card -->
                        <div class="about-game-card mining border-6 border-[var(--sdv-darkgreen)] shadow-lg hover:shadow-xl">
                            <i class="fas fa-gem icon"></i>
                            <h3 class="font-bold pixel-font text-xl mb-2">Mining</h3>
                            <p class="text-base">She slays. I snack. Occasionally scream. Perfect system.</p>
                        </div>
                        <!-- Redesigned Relationships Card -->
                        <div class="about-game-card relationships border-6 border-[var(--sdv-darkgreen)] shadow-lg hover:shadow-xl">
                            <i class="fas fa-heart icon"></i>
                            <h3 class="font-bold pixel-font text-xl mb-2">Relationships</h3>
                            <p class="text-base">We gift, gossip, and somehow became the town‚Äôs most chaotic power couple.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Characters Section -->
    <section id="characters" class="py-20 relative overflow-hidden section-animate">
        <div class="pixel-divider"></div>
        <div class="container mx-auto px-8 lg:px-10 text-center max-w-screen-xl">
            <div class="section-heading-wrapper">
                <h2 class="pixel-font text-4xl md:text-5xl text-green-800 text-stroke">MEET THE FAMILY</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">"Not just pixels ‚Äî they‚Äôre part of the quacky little family we chose!"</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 15%; top: 10%;">üçÇ</span>
                <span class="particle" style="left: 40%; top: 5%;">üçÅ</span>
                <span class="particle" style="left: 60%; top: 15%;">üçÇ</span>
                <span class="particle" style="left: 85%; top: 8%;">üçÅ</span>
            </div>

            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-10">
                <!-- Character cards will be populated by JavaScript -->
            </div>
            <div class="text-center mt-16">
                <button class="pixel-button bg-[var(--sdv-purple)] hover:bg-[#8e44ad] animate-bounce-slow">
                    <i class="fas fa-users mr-3"></i> Meet All Other Side Characters
                </button>
            </div>
        </div>
    </section>

    <!-- Seasons Section -->
    <section id="seasons" class="py-20 relative overflow-hidden section-animate">
        <div class="pixel-divider relative z-10"></div>
        <div class="container mx-auto px-8 lg:px-10 text-center relative z-10 max-w-screen-xl">
            <div class="section-heading-wrapper bg-[var(--sdv-darkgreen)] border-[var(--sdv-yellow)]">
                <h2 class="pixel-font text-4xl md:text-5xl text-white text-stroke">SEASONS OF STARDEW</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">Each season brings new colors, new festivals, and new reminders that Doofy still has no idea what grows in fall.</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 10%; top: 95%;">üåª</span>
                <span class="particle" style="left: 30%; top: 80%;">üåæ</span>
                <span class="particle" style="left: 70%; top: 90%;">üåΩ</span>
                <span class="particle" style="left: 90%; top: 75%;">üéÉ</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-12"> <!-- Changed to 2x2 grid -->
                <div class="season-card-base season-spring">
                    <div class="absolute top-4 right-4 pixel-font text-3xl bg-black/40 px-3 py-1 rounded-full shadow-md">üå∏</div>
                    <div class="card-particle-container">
                        <span class="card-particle" style="left: 15%; top: 80%;">üå∏</span>
                        <span class="card-particle" style="left: 40%; top: 90%;">üåº</span>
                        <span class="card-particle" style="left: 70%; top: 70%;">üå∑</span>
                    </div>
                    <img src="vv13.png" alt="Spring Season" class="image-pixelated rounded-md shadow-md">
                    <h3 class="pixel-font text-3xl mb-4 text-stroke text-[var(--sdv-darkgreen)]">SPRING</h3>
                    <p class="text-lg leading-relaxed text-[var(--sdv-text-dark)]">The valley stretches, yawns, and bursts into bloom. It's go-time for crops and chaos. Quackers maps out the farm like a tactical genius. Doofy? He's somewhere frolicking after butterflies and realizing too late that he planted potatoes in the wrong spot. Again.</p>
                    <div class="mt-6 flex flex-wrap gap-3 justify-center">
                        <span class="bg-white text-green-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-green-300">üçì Strawberries (thriving under Quackers' reign)</span>
                        <span class="bg-white text-green-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-green-300">ü•î Potatoes (somewhere... hopefully)</span>
                        <span class="bg-white text-green-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-green-300">ü•¶ Cauliflower (Doofy thought it was a flower. It's not.)</span>
                    </div>
                </div>
                <div class="season-card-base season-summer">
                    <div class="absolute top-4 right-4 pixel-font text-3xl bg-black/40 px-3 py-1 rounded-full shadow-md">‚òÄÔ∏è</div>
                    <div class="card-particle-container">
                        <span class="card-particle" style="left: 20%; top: 75%;">‚òÄÔ∏è</span>
                        <span class="card-particle" style="left: 50%; top: 85%;">üíß</span>
                        <span class="card-particle" style="left: 80%; top: 65%;">üåû</span>
                    </div>
                    <img src="vv14.png" alt="Summer Season" class="image-pixelated rounded-md shadow-md">
                    <h3 class="pixel-font text-3xl mb-4 text-stroke text-[var(--sdv-darkblue)]">SUMMER</h3>
                    <p class="text-lg leading-relaxed text-[var(--sdv-text-dark)]">It‚Äôs hot, it‚Äôs hectic, and the farm is bursting with fruity chaos. Quackers is laser-focused on maximizing yield. Doofy is in the field ‚Äúhelping,‚Äù aka eating melons and getting distracted by butterflies. The blueberries are thriving. The scarecrows are concerned.</p>
                    <div class="mt-6 flex flex-wrap gap-3 justify-center">
                        <span class="bg-white text-blue-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-blue-300">ü´ê Blueberries (watered daily‚Ä¶ twice, just in case)</span>
                        <span class="bg-white text-blue-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-blue-300">üçà Melons (Doofy: 7, Storage: 3)</span>
                        <span class="bg-white text-blue-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-blue-300">üç∫ Hops (aka Doofy‚Äôs hiding spot)</span>
                    </div>
                </div>
                <div class="season-card-base season-fall">
                    <div class="absolute top-4 right-4 pixel-font text-3xl bg-black/40 px-3 py-1 rounded-full shadow-md">üçÇ</div>
                    <div class="card-particle-container">
                        <span class="card-particle" style="left: 10%; top: 10%;">üçÇ</span>
                        <span class="card-particle" style="left: 35%; top: 5%;">üçÅ</span>
                        <span class="card-particle" style="left: 65%; top: 15%;">üçÇ</span>
                    </div>
                    <img src="vv15.png" alt="Fall Season" class="image-pixelated rounded-md shadow-md">
                    <h3 class="pixel-font text-3xl mb-4 text-stroke text-[var(--sdv-brown)]">FALL</h3>
                    <p class="text-lg leading-relaxed text-[var(--sdv-text-dark)]">The leaves are crisp, the pumpkins are thicc, and Quackers is ruling the farm like a seasonal goddess. Meanwhile, Doofy is ‚Äúquality-checking‚Äù the grapes (by eating them) and whispering sweet nothings to the Grange Display judges. It's cozy, competitive, and just the right amount of unhinged.</p>
                    <div class="mt-6 flex flex-wrap gap-3 justify-center">
                        <span class="bg-white text-orange-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-orange-300">üéÉ Pumpkins (thicc, round, and festival-ready)</span>
                        <span class="bg-white text-orange-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-orange-300">üçí Cranberries (organized by color-coded bins)</span>
                        <span class="bg-white text-orange-800 px-4 py-2 rounded-full text-sm pixel-font tag border border-orange-300">üçá Grapes (one for the basket, three for Doofy)</span>
                    </div>
                </div>
                <div class="season-card-base season-winter">
                    <div class="absolute top-4 right-4 pixel-font text-3xl bg-black/40 px-3 py-1 rounded-full shadow-md">‚ùÑÔ∏è</div>
                    <div class="card-particle-container">
                        <span class="card-particle" style="left: 5%; top: 5%;">‚ùÑÔ∏è</span>
                        <span class="card-particle" style="left: 25%; top: 15%;">üå®Ô∏è</span>
                        <span class="card-particle" style="left: 50%; top: 10%;">‚ùÑÔ∏è</span>
                        <span class="card-particle" style="left: 75%; top: 20%;">üå®Ô∏è</span>
                    </div>
                    <img src="vv9.png" alt="Winter Season" class="image-pixelated rounded-md shadow-md">
                    <h3 class="pixel-font text-3xl mb-4 text-stroke text-[var(--sdv-darkblue)]">WINTER</h3>
                    <p class="text-lg leading-relaxed text-[var(--sdv-text-dark)]">The valley may be snoozing under a snowy blanket, but Quackers turns it into a full-blown productivity season. She‚Äôs mining, fishing, and masterfully prepping for the Feast of the Winter Star. Doofy? He‚Äôs slipping on ice, gifting rocks to the wrong villagers, and calling it ‚Äúfestive.‚Äù</p>
                    <div class="mt-6 flex flex-wrap gap-3 justify-center">
                        <span class="bg-gray-800 text-white px-4 py-2 rounded-full text-sm pixel-font tag border border-gray-600">üå± Winter Seeds (strategically planted by Quackers)</span>
                        <span class="bg-gray-800 text-white px-4 py-2 rounded-full text-sm pixel-font tag border border-gray-600">üíé Crystal Fruit (too pretty to sell‚Ä¶ so we hoard them)</span>
                        <span class="bg-gray-800 text-white px-4 py-2 rounded-full text-sm pixel-font tag border border-gray-600">üç† Snow Yam (Doofy thought it was a lost potato)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Farm Types Section -->
    <section id="farm" class="py-20 relative overflow-hidden section-animate">
        <div class="pixel-divider"></div>
        <div class="container mx-auto px-8 lg:px-10 text-center max-w-screen-xl">
            <div class="section-heading-wrapper">
                <h2 class="pixel-font text-4xl md:text-5xl text-green-800 text-stroke">CHOOSE YOUR FARM</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">Step 1: Choose a farm. Step 2: Let Quackers make a spreadsheet... while Doofy picks the one with the most adorable ducks and zero regard for logistics.</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 10%; top: 90%;">ü´ß</span>
                <span class="particle" style="left: 30%; top: 80%;">üíß</span>
                <span class="particle" style="left: 50%; top: 70%;">ü´ß</span>
                <span class="particle" style="left: 70%; top: 85%;">üíß</span>
                <span class="particle" style="left: 90%; top: 75%;">ü´ß</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
                <!-- Quackers Duck Farm Card -->
                <div class="farm-type-card">
                    <!-- Removed parallax-bg from img tag -->
                    <img src="vv18.png" alt="Quackers Duck Farm" class="image-pixelated">
                    <div class="card-content">
                        <h3 class="pixel-font">Quackers Duck Farm</h3>
                        <p>A meticulously managed ducktopia where every quack is accounted for. Designed by Quackers for optimal duck-to-pond ratios, with color-coded feeding charts and strictly enforced nap schedules. Doofy‚Äôs role? Feed the ducks, look cute, and try not to accidentally release them.</p>
                        <div class="stats">
                            <span class="text-green-700"><i class="fas fa-duck"></i> 85% Ducks (living in luxury)</span>
                            <span class="text-red-700"><i class="fas fa-question"></i> ü§î 15% Doofy, mildly overwhelmed but very enthusiastic</span>
                        </div>
                    </div>
                </div>
                <!-- Doofy's Greenhouse Grove Card -->
                <div class="farm-type-card">
                    <!-- Removed parallax-bg from img tag -->
                    <img src="vv16.png" alt="Doofy's Greenhouse Grove" class="image-pixelated">
                    <div class="card-content">
                        <h3 class="pixel-font">Doofy‚Äôs Greenhouse Grove</h3>
                        <p>A warm, slightly unhinged paradise where plants thrive despite Doofy‚Äôs questionable farming methods. Perfect for experimenting, vibing, and occasionally discovering a new hybrid by sheer accident (or planting the same thing three times).</p>
                        <div class="stats">
                            <span class="text-green-700"><i class="fas fa-seedling"></i> üåø 70% Cozy Greenhouse Magic</span>
                            <span class="text-yellow-700"><i class="fas fa-exclamation-triangle"></i> üå± 30% ‚ÄúWait‚Ä¶ did I already plant this row?‚Äù</span>
                        </div>
                    </div>
                </div>
                <!-- The Fishy Wishy Farm Card -->
                <div class="farm-type-card">
                    <!-- Removed parallax-bg from img tag -->
                    <img src="vv17.png" alt="The Fishy Wishy Farm" class="image-pixelated">
                    <div class="card-content">
                        <h3 class="pixel-font">The Fishy Wishy Farm</h3>
                        <p>A splashy paradise of cozy bridges, secret fishing spots, and occasional soaking. Quackers reels in rare treasures with precision. Doofy? He‚Äôs mostly tangled in seaweed, casting in the wrong direction, and trying very hard not to fall in. Again.</p>
                        <div class="stats">
                            <span class="text-blue-700"><i class="fas fa-water"></i> üé£ 50% Peaceful Fishing</span>
                            <span class="text-blue-700"><i class="fas fa-fish"></i> üí¶ 50% ‚ÄúDOOFY, NOT THE RIVER!‚Äù</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Community Center Section -->
    <section id="community" class="py-20 relative overflow-hidden section-animate">
        <div class="pixel-divider"></div>
        <div class="container mx-auto px-8 lg:px-10 relative z-10 text-center max-w-screen-xl">
            <div class="section-heading-wrapper">
                <h2 class="pixel-font text-4xl md:text-5xl text-green-800 text-stroke">COMMUNITY CENTER</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">Doofy & Quackers: fixing Pelican Town with love, snacks, and mild chaos.</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 5%; top: 85%;">üíé</span>
                <span class="particle" style="left: 25%; top: 75%;">‚õèÔ∏è</span>
                <span class="particle" style="left: 45%; top: 90%;">üíé</span>
                <span class="particle" style="left: 65%; top: 80%;">‚õèÔ∏è</span>
                <span class="particle" style="left: 85%; top: 70%;">üíé</span>
            </div>

            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2">
                    <!-- Image Placeholder for Community Center -->
                    <img src="vv6.png" alt="Community Center" class="w-full h-80 sm:h-96 md:h-[500px] object-cover rounded-xl pixel-border shadow-2xl animate-pulse-slow image-pixelated parallax-bg border-8 border-[var(--sdv-brown)]">
                </div>
                <div class="md:w-1/2 text-left">
                    <p class="text-xl mb-8 leading-relaxed">The Community Center used to be a creaky old building with more cobwebs than purpose‚Ä¶ but Quackers wasn‚Äôt having any of that. With her plans, strategies, and determined sparkle, and my enthusiastic (if slightly misguided) item deliveries, we‚Äôve been breathing life back into it ‚Äî one bundle, one room, and one hilariously slippery fish at a time. üé£üß∫</p>
                    <p class="text-xl mb-10 leading-relaxed">There‚Äôs something kind of magical about it. Every time we complete a bundle, the Junimos throw a tiny dance party, something new unlocks, and I get way too excited about it. Secret rooms, shiny rewards, weird forest magic ‚Äî it's like a treasure hunt with spreadsheets.
                        Watching Pelican Town slowly sparkle again? That‚Äôs the good stuff. We‚Äôre not just fixing up an old building... we‚Äôre building memories. Together. üíõü¶Üüåæ
                        <br><br>‚Äì Doofy</p>
                    <button class="pixel-button bg-purple-700 hover:bg-[#8e44ad]">
                        <i class="fas fa-book-open mr-3"></i> Learn About Bundles
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Progress Section -->
    <section class="py-20 relative overflow-hidden section-animate game-progress-section">
        <div class="pixel-divider"></div>
        <div class="container mx-auto px-8 lg:px-10 text-center max-w-screen-xl">
            <div class="section-heading-wrapper">
                <h2 class="pixel-font text-4xl md:text-5xl text-green-800 text-stroke">YOUR JOURNEY AWAITS</h2>
            </div>
            <p class="text-center mb-16 pixel-font text-lg text-gray-700">Where Quackers runs the farm with military precision ‚Äî every crop timed, every tool in place, every second accounted for. And Doofy? He‚Äôs the lovable whirlwind of confusion who waters the cat, misplaces the seeds, and somehow charms her anyway.
                She sighs, rolls her eyes, mutters ‚ÄúDoofy‚Ä¶‚Äù But behind that serious face? She‚Äôs absolutely smitten.
                <br><br>Because deep down, she wouldn‚Äôt want to farm with anyone else. üíõü¶Ü</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 10%; top: 90%;">‚ú®</span>
                <span class="particle" style="left: 30%; top: 70%;">üåü</span>
                <span class="particle" style="left: 50%; top: 85%;">‚ú®</span>
                <span class="particle" style="left: 70%; top: 75%;">üåü</span>
                <span class="particle" style="left: 90%; top: 90%;">‚ú®</span>
            </div>

            <div class="max-w-4xl mx-auto">
                <!-- Progress Bar -->
                <div class="mb-16">
                    <div class="flex justify-between mb-4 pixel-font text-lg text-gray-700">
                        <span>Day <span id="current-day">1</span></span>
                        <span>Year <span id="current-year">1</span></span>
                    </div>
                    <div class="h-10 bg-gray-300 rounded-full overflow-hidden shadow-inner border-2 border-gray-400">
                        <div id="progress-bar-fill" class="h-full bg-gradient-to-r from-green-400 to-green-700 rounded-full progress-animate" style="--progress-width: 0%;"></div>
                    </div>
                    <p class="text-lg pixel-font mt-3 text-gray-600">Current Progress: <span id="progress-percentage">0</span>%</p>
                    <div id="journey-message" class="mt-6 p-4 bg-yellow-100 text-yellow-800 rounded-xl pixel-border text-center text-xl border-4 border-yellow-400 shadow-lg">
                        Your journey begins! Time to restore Grandpa's farm!
                    </div>
                    <div class="flex justify-center gap-6 mt-10">
                        <button id="decrease-progress" class="pixel-button bg-red-600 hover:bg-red-700 text-white px-8 py-4">
                            <i class="fas fa-minus mr-3"></i> Decrease
                        </button>
                        <button id="increase-progress" class="pixel-button bg-green-600 hover:bg-green-700 text-white px-8 py-4">
                            <i class="fas fa-plus mr-3"></i> Increase
                        </button>
                    </div>
                </div>
                
                <!-- Milestones -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-10 text-center" id="milestone-container">
                    <div class="milestone-card bg-[var(--sdv-lightgreen)] rounded-xl pixel-border shadow-xl hover:bg-green-100 transition-all" data-milestone-id="farmhouse">
                        <i class="fas fa-check-circle completion-checkmark"></i>
                        <div class="icon-wrapper bg-green-100 text-green-800">
                            <i class="fas fa-home"></i>
                        </div>
                        <h3 class="pixel-font text-[var(--sdv-darkgreen)] text-stroke">üè° Farmhouse</h3>
                        <p class="text-gray-700">Upgraded 3 times ‚Äî mostly so Doofy stops tripping over furniture.</p>
                    </div>
                    <div class="milestone-card bg-[var(--sdv-lightgreen)] rounded-xl pixel-border shadow-xl hover:bg-blue-100 transition-all" data-milestone-id="community-center">
                        <i class="fas fa-check-circle completion-checkmark"></i>
                        <div class="icon-wrapper bg-blue-100 text-blue-800">
                            <i class="fas fa-ship"></i>
                        </div>
                        <h3 class="pixel-font text-[var(--sdv-darkgreen)] text-stroke">üß∫ Community Center</h3>
                        <p class="text-gray-700">Quackers plans, Doofy delivers bundles (to the wrong room, sometimes).</p>
                    </div>
                    <div class="milestone-card bg-[var(--sdv-lightgreen)] rounded-xl pixel-border shadow-xl hover:bg-purple-100 transition-all" data-milestone-id="relationships">
                        <i class="fas fa-check-circle completion-checkmark"></i>
                        <div class="icon-wrapper bg-purple-100 text-purple-800">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3 class="pixel-font text-[var(--sdv-darkgreen)] text-stroke">üíï Relationships</h3>
                        <p class="text-gray-700">Married, in love, and still arguing over who waters the beans.</p>
                    </div>
                    <div class="milestone-card bg-[var(--sdv-lightgreen)] rounded-xl pixel-border shadow-xl hover:bg-yellow-100 transition-all" data-milestone-id="perfection">
                        <i class="fas fa-check-circle completion-checkmark"></i>
                        <div class="icon-wrapper bg-yellow-100 text-yellow-800">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3 class="pixel-font text-[var(--sdv-darkgreen)] text-stroke">üåü Perfection</h3>
                        <p class="text-gray-700">Quackers wants 100%. Doofy thinks 82% with love is perfect enough.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="py-20 text-green-900 newsletter-section">
        <div class="container mx-auto px-8 lg:px-10 max-w-screen-xl text-center">
            <h2 class="pixel-font text-4xl mb-8 text-green-800 text-stroke">Join the Doofy & Quackers Gazette!</h2>
            <p class="mb-10 text-xl">Get all the latest Stardew Valley news, cozy updates, and silly farm tips from your favourite duo, delivered straight from our coop to your inbox. No spam, just love (and maybe a duck feather or two).</p>
            
            <div class="particle-container">
                <span class="particle" style="left: 15%; top: 80%;">üí∞</span>
                <span class="particle" style="left: 40%; top: 90%;">‚ú®</span>
                <span class="particle" style="left: 60%; top: 70%;">üí∞</span>
                <span class="particle" style="left: 85%; top: 85%;">‚ú®</span>
            </div>

            <form class="flex flex-col md:flex-row gap-6 justify-center">
                <input type="email" placeholder="Your email address" class="flex-grow max-w-md px-6 py-4 rounded-xl border-4 border-gray-400 focus:outline-none focus:ring-4 focus:ring-green-600 transition-all shadow-inner text-gray-800 bg-white/90 pixel-font text-lg" required>
                <button type="submit" class="pixel-button bg-[var(--sdv-darkgreen)] hover:bg-[var(--sdv-green)] text-white">
                    <i class="fas fa-envelope mr-3"></i> Subscribe
                </button>
            </form>
            <!-- New "Next Adventure?" button moved here -->
            <div class="mt-10 text-center">
                <a href="law.html" class="pixel-button bg-blue-600 hover:bg-blue-700 text-white">
                    <i class="fas fa-compass mr-3"></i> Next Adventure?
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-8 lg:px-10 max-w-screen-xl">
            <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left">
                <div class="mb-8 md:mb-0">
                    <div class="flex items-center space-x-4 justify-center md:justify-start">
                        <i class="fas fa-leaf text-yellow-300 text-4xl animate-spin-slow"></i>
                        <span class="pixel-font text-3xl text-stroke">STARDEW VALLEY</span>
                    </div>
                    <p class="text-base mt-4 text-gray-300">¬© 2023 Raccoonie. Made with extra love and a few happy quacks, from Doofy to his favorite farmer, Quackers. üß°ü¶Üüåº</p>
                </div>
                <div class="flex space-x-10 text-3xl mb-8 md:mb-0">
                    <a href="#" class="hover:text-yellow-300 transition-colors duration-200 hover:text-stroke"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="hover:text-yellow-300 transition-colors duration-200 hover:text-stroke"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="hover:text-yellow-300 transition-colors duration-200 hover:text-stroke"><i class="fab fa-reddit"></i></a>
                    <a href="#" class="hover:text-yellow-300 transition-colors duration-200 hover:text-stroke"><i class="fab fa-discord"></i></a>
                </div>
            </div>
            <div class="mt-12 pt-10 border-t-4 border-gray-700 text-center text-base text-gray-400">
                <p>Stardew Valley has always been one of Quackers‚Äô favorite places ‚Äî a cozy little world where everything has purpose, peace, and just the right amount of magic. Recently, she invited me to join her there‚Ä¶ and I didn‚Äôt know then just how special it would become.
                    At first, I was clumsy and confused ‚Äî asking too many questions, forgetting where I planted things, and probably watering the wrong spots. But slowly, season by season, I started to understand. It‚Äôs not just about crops or festivals or pixel-perfect farms.
                    It‚Äôs about us.
                    So I made this little website as a birthday surprise ‚Äî a small love letter to the game she adores, and the memories we‚Äôre creating in it together. From planning dream farms to laughing through the chaos, every moment with her has felt like something rare and beautiful.
                    Happy Birthday, Quackers üíõ
                    <br><br>Thanks for letting me be part of your world ‚Äî in Stardew, and everywhere else.üåæü¶Ü</p>
            </div>
        </div>
    </footer>

    <script>
        // Global state for progress and milestones
        let currentProgress = 0;
        const milestones = {
            'farmhouse': { completed: false, value: 20 },
            'community-center': { completed: false, value: 30 },
            'relationships': { completed: false, value: 25 },
            'perfection': { completed: false, value: 25 }
        };

        const progressBarFill = document.getElementById('progress-bar-fill');
        const progressPercentageText = document.getElementById('progress-percentage');
        const journeyMessage = document.getElementById('journey-message');
        const currentDaySpan = document.getElementById('current-day');
        const currentYearSpan = document.getElementById('current-year');
        const backgroundMusic = document.getElementById('background-music');
        const musicToggleButton = document.getElementById('music-toggle-button');
        const musicIcon = document.getElementById('music-icon');
        const musicLoadingSpinner = document.getElementById('music-loading-spinner');

        // --- Tone.js Sound Effects Setup ---
        const Tone = window.Tone;
        let clickSynth = null, dingSynth = null, chirpSynth = null, rustleSynth = null, waterSynth = null;
        let audioContextStarted = false;

        async function setupAudio() {
            if (audioContextStarted) return;
            
            try {
                await Tone.start();
                audioContextStarted = true;
                console.log("Audio context started.");

                clickSynth = new Tone.MembraneSynth().toDestination();
                dingSynth = new Tone.MetalSynth().toDestination();

                chirpSynth = new Tone.Synth({
                    oscillator: { type: "triangle" },
                    envelope: { attack: 0.1, decay: 0.2, sustain: 0.1, release: 0.5 },
                    volume: -20
                }).toDestination();

                rustleSynth = new Tone.NoiseSynth({
                    noise: { type: "white" },
                    envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.3 },
                    volume: -25
                }).toDestination();

                waterSynth = new Tone.NoiseSynth({
                    noise: { type: "pink" },
                    envelope: { attack: 0.01, decay: 0.3, sustain: 0, release: 0.4 },
                    volume: -22
                }).toDestination();

            } catch (error) {
                console.error("Error setting up audio context:", error);
            }
        }

        function playClickSound() { if (clickSynth) clickSynth.triggerAttackRelease("C4", "8n"); }
        function playDingSound() { if (dingSynth) dingSynth.triggerAttackRelease("G5", "16n"); }
        function playChirpSound() { if (chirpSynth) chirpSynth.triggerAttackRelease("C5", "8n"); }
        function playRustleSound() { if (rustleSynth) rustleSynth.triggerAttackRelease("8n"); }
        function playWaterSound() { if (waterSynth) waterSynth.triggerAttackRelease("8n"); }

        // Function to toggle background music
        async function toggleBackgroundMusic() {
            musicToggleButton.disabled = true; // Disable button during state change
            musicIcon.classList.add('hidden');
            musicLoadingSpinner.classList.remove('hidden');

            try {
                await setupAudio(); // Ensure audio context is started

                if (backgroundMusic.paused) {
                    await backgroundMusic.play();
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-music');
                    console.log("Background music playing.");
                } else {
                    backgroundMusic.pause();
                    musicIcon.classList.remove('fa-music');
                    musicIcon.classList.add('fa-volume-mute');
                    console.log("Background music paused.");
                }
            } catch (error) {
                console.error("Error toggling background music:", error);
                // If autoplay blocked, set to mute icon and inform user
                musicIcon.classList.remove('fa-music');
                musicIcon.classList.add('fa-volume-mute');
            } finally {
                musicLoadingSpinner.classList.add('hidden');
                musicIcon.classList.remove('hidden');
                musicToggleButton.disabled = false; // Re-enable button
            }
        }

        // Function to update progress bar and message
        function updateProgress() {
            let totalMilestoneProgress = 0;
            for (const key in milestones) {
                if (milestones[key].completed) {
                    totalMilestoneProgress += milestones[key].value;
                }
            }
            const oldProgress = currentProgress;
            currentProgress = Math.min(100, Math.max(0, totalMilestoneProgress)); // Cap between 0 and 100

            progressBarFill.style.setProperty('--progress-width', `${currentProgress}%`);
            progressPercentageText.textContent = currentProgress;

            // Update day and year (simple simulation based on progress)
            let totalDays = Math.floor(currentProgress * 10); // Max 1000 days for 100%
            currentDaySpan.textContent = (totalDays % 28) + 1; // 28 days per season
            currentYearSpan.textContent = Math.floor(totalDays / 112) + 1; // 4 seasons * 28 days = 112 days per year

            updateJourneyMessage();
            if (currentProgress > oldProgress && currentProgress % 25 === 0) { // Play ding on major progress milestones
                playDingSound();
            }
        }

        // Function to update dynamic journey message
        function updateJourneyMessage() {
            if (currentProgress === 0) {
                journeyMessage.textContent = "Your journey begins! Time to restore Grandpa's farm!";
            } else if (currentProgress < 25) {
                journeyMessage.textContent = "You're just getting started! Keep up the good work.";
            } else if (currentProgress < 50) {
                journeyMessage.textContent = "Making good progress! The valley is starting to shine.";
            } else if (currentProgress < 75) {
                journeyMessage.textContent = "Halfway to perfection! You're a true farmer!";
            } else {
                journeyMessage.textContent = "Congratulations, farmer! You've achieved perfection in Stardew Valley!";
                journeyMessage.classList.add('animate-sparkle'); // Add sparkle for perfection
            }
        }

        // Event listeners for progress buttons
        document.getElementById('increase-progress').addEventListener('click', () => {
            playClickSound(); // Play sound on button click
            // Find an uncompleted milestone and complete it
            let completedOne = false;
            for (const key in milestones) {
                if (!milestones[key].completed) {
                    milestones[key].completed = true;
                    document.querySelector(`[data-milestone-id="${key}"]`).classList.add('completed');
                    completedOne = true;
                    break; // Complete one at a time
                }
            }
            if (!completedOne) {
                // If all milestones are complete, just increment progress by a small amount
                currentProgress = Math.min(100, currentProgress + 5);
            }
            updateProgress();
        });

        document.getElementById('decrease-progress').addEventListener('click', () => {
            playClickSound(); // Play sound on button click
            // Find a completed milestone and uncomplete it
            let uncompletedOne = false;
            const milestoneKeys = Object.keys(milestones).reverse(); // Uncomplete from last to first
            for (const key of milestoneKeys) {
                if (milestones[key].completed) {
                    milestones[key].completed = false;
                    document.querySelector(`[data-milestone-id="${key}"]`).classList.remove('completed');
                    uncompletedOne = true;
                    break; // Uncomplete one at a time
                }
            }
            if (!uncompletedOne) {
                // If no milestones are complete, just decrement progress by a small amount
                currentProgress = Math.max(0, currentProgress - 5);
            }
            updateProgress();
        });

        // Event listeners for milestone cards
        document.querySelectorAll('.milestone-card').forEach(card => {
            card.addEventListener('click', function() {
                playClickSound(); // Play sound on card click
                const milestoneId = this.dataset.milestoneId;
                if (milestoneId) {
                    milestones[milestoneId].completed = !milestones[milestoneId].completed;
                    this.classList.toggle('completed', milestones[milestoneId].completed);
                    updateProgress();
                }
            });
        });

        // Intersection Observer for scroll animations
        function setupIntersectionObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('section-visible');
                    } else {
                        // entry.target.classList.remove('section-visible'); // Optional: re-trigger on scroll back up
                    }
                });
            }, {
                threshold: 0.15
            });
            
            document.querySelectorAll('.section-animate').forEach(section => {
                observer.observe(section);
            });
        }
        
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Character data (UPDATED)
        const characters = [
            { name: "Doofy", img: "vv3.png", birthday: "Spring 1", likes: "Snacks, Ducks", description: "The resident goofball, always ready with a snack and a questionable farm 'strategy'." },
            { name: "Quackers", img: "vv4.png", birthday: "Summer 7", likes: "Ducks, Spreadsheets", description: "The true farm mastermind, meticulously planning every crop and duck-related endeavor." },
            { name: "Olek", img: "vv1.png", birthday: "Fall 28", likes: "Pets, Treats", description: "The loyal farm dog, always happy to greet visitors and occasionally 'help' with digging." },
            { name: "Bozo", img: "vv2.png", birthday: "Winter 12", likes: "Fish, Naps", description: "The enigmatic farm cat, spending most days napping or judging Doofy's farming skills." }
        ];

        // Populate character cards (modified to only include the specified characters)
        const characterContainer = document.querySelector('#characters .grid');
        characterContainer.innerHTML = ''; // Clear existing cards
        characters.forEach(character => {
            const card = document.createElement('div');
            card.className = 'character-card bg-white rounded-lg overflow-hidden pixel-border cursor-pointer transform transition-all hover:scale-105 hover:z-10 shadow-md';
            card.innerHTML = `
                <div class="relative">
                    <img src="${character.img}" alt="${character.name}" class="w-full pixel-character">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3">
                        <h3 class="pixel-font text-lg text-white text-stroke">${character.name}</h3>
                    </div>
                    <div class="absolute top-3 right-3 bg-black/70 rounded-full w-9 h-9 flex items-center justify-center shadow-md">
                        <i class="fas fa-heart text-[var(--sdv-red)] text-xl"></i>
                    </div>
                </div>
                <div class="p-4 character-card-info">
                    <p class="text-sm flex items-center gap-2"><i class="fas fa-birthday-cake text-yellow-300"></i> ${character.birthday}</p>
                    <p class="text-sm mt-2 flex items-center gap-2"><i class="fas fa-gift text-yellow-300"></i> ${character.likes.split(', ')[0]}</p>
                </div>
            `;
            
            // Add tooltip on hover
            let tooltipTimeout;
            let currentTooltip = null;

            card.addEventListener('mouseenter', function() {
                clearTimeout(tooltipTimeout);
                if (currentTooltip) {
                    currentTooltip.remove();
                    currentTooltip = null;
                }

                tooltipTimeout = setTimeout(() => {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'character-tooltip';
                    tooltip.innerHTML = `
                        <p class="text-lg mb-2"><span class="text-yellow-300 pixel-font">${character.name}</span></p>
                        <p class="mb-1">üéÇ <span class="font-medium">${character.birthday}</span></p>
                        <p class="mb-1">‚ù§Ô∏è Loves: <span class="font-medium">${character.likes}</span></p>
                        <p class="mt-3 text-sm italic text-gray-300">${character.description}</p>
                    `;
                    
                    document.body.appendChild(tooltip);
                    currentTooltip = tooltip;

                    // Position tooltip dynamically
                    const rect = card.getBoundingClientRect();
                    const tooltipWidth = tooltip.offsetWidth;
                    const tooltipHeight = tooltip.offsetHeight;

                    let leftPos = rect.left + rect.width / 2 - tooltipWidth / 2;
                    let topPos = rect.top - tooltipHeight - 25; // 25px for spacing and arrow

                    // Adjust if too far left
                    if (leftPos < 10) {
                        leftPos = 10;
                    }
                    // Adjust if too far right
                    if (leftPos + tooltipWidth > window.innerWidth - 10) {
                        leftPos = window.innerWidth - tooltipWidth - 10;
                    }
                    // Adjust if it goes above the top of the viewport
                    if (topPos < 10) {
                        topPos = rect.bottom + 25; // Position below the card if not enough space above
                        tooltip.classList.add('below'); // Add class to flip arrow if needed
                    } else {
                        tooltip.classList.remove('below');
                    }


                    tooltip.style.left = `${leftPos}px`;
                    tooltip.style.top = `${topPos}px`;

                    setTimeout(() => {
                        tooltip.classList.add('show');
                    }, 50);
                }, 300);
            });
            
            card.addEventListener('mouseleave', function() {
                clearTimeout(tooltipTimeout);
                if (currentTooltip) {
                    currentTooltip.classList.remove('show');
                    currentTooltip.addEventListener('transitionend', function handler() {
                        if (currentTooltip) {
                            currentTooltip.remove();
                            currentTooltip = null;
                        }
                        this.removeEventListener('transitionend', handler);
                    });
                }
            });
            
            characterContainer.appendChild(card);
        });

        // --- Cursor Trail Effect ---
        const cursorTrailContainer = document.getElementById('cursor-trail-container');
        const cursorTrailEmojis = ['‚ú®', 'üåü']; // Emojis for the trail
        let lastMouseX = 0;
        let lastMouseY = 0;
        let trailCount = 0;
        const maxTrailParticles = 50; // Limit the number of particles for performance
        const particleCreationInterval = 50; // Milliseconds between particle creation

        let lastParticleTime = 0;

        document.body.addEventListener('mousemove', function(e) {
            const currentTime = Date.now();
            if (currentTime - lastParticleTime < particleCreationInterval) {
                return; // Throttle particle creation
            }
            lastParticleTime = currentTime;

            // Only create a particle if the mouse has moved a significant amount
            const distance = Math.sqrt(Math.pow(e.clientX - lastMouseX, 2) + Math.pow(e.clientY - lastMouseY, 2));
            if (distance < 10) { // Adjust this threshold as needed
                return;
            }

            lastMouseX = e.clientX;
            lastMouseY = e.clientY;

            const particle = document.createElement('span');
            particle.className = 'cursor-trail-particle';
            particle.textContent = cursorTrailEmojis[Math.floor(Math.random() * cursorTrailEmojis.length)];
            particle.style.left = `${e.clientX}px`;
            particle.style.top = `${e.clientY}px`;
            
            cursorTrailContainer.appendChild(particle);
            trailCount++;

            // Remove oldest particle if limit exceeded
            if (trailCount > maxTrailParticles) {
                cursorTrailContainer.removeChild(cursorTrailContainer.firstChild);
                trailCount--;
            }

            // Remove particle after its animation
            particle.addEventListener('animationend', () => {
                if (particle.parentNode === cursorTrailContainer) {
                    cursorTrailContainer.removeChild(particle);
                    trailCount--;
                }
            });
        });


        // Initialize effects
        document.addEventListener('DOMContentLoaded', async function() {
            setupIntersectionObserver();
            updateProgress(); // Initialize progress bar and message on load
            
            // Setup Tone.js audio context immediately
            await setupAudio();

            // Attempt to play music on load
            try {
                await backgroundMusic.play();
                musicIcon.classList.remove('fa-volume-mute');
                musicIcon.classList.add('fa-music');
                console.log("Background music autoplayed successfully.");
            } catch (error) {
                console.warn("Background music autoplay blocked:", error);
                // Autoplay blocked, set to mute icon and enable button for user interaction
                musicIcon.classList.remove('fa-music');
                musicIcon.classList.add('fa-volume-mute');
            } finally {
                // Ensure button is always enabled and spinner hidden after initial attempt
                musicLoadingSpinner.classList.add('hidden');
                musicIcon.classList.remove('hidden');
                musicToggleButton.disabled = false;
            }


            // Add ripple effect to buttons and play click sound
            document.querySelectorAll('.pixel-button').forEach(button => {
                button.addEventListener('click', function(e) {
                    playClickSound(); // Play sound on button click
                    const ripple = document.createElement('span');
                    ripple.className = 'ripple';
                    
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    ripple.style.left = `${x}px`;
                    ripple.style.top = `${y}px`;
                    
                    const size = Math.max(rect.width, rect.height);
                    ripple.style.width = `${size}px`;
                    ripple.style.height = `${size}px`;
                    ripple.style.marginLeft = `-${size / 2}px`;
                    ripple.style.marginTop = `-${size / 2}px`;

                    this.appendChild(ripple);
                    
                    setTimeout(() => ripple.remove(), 1000);
                });
            });

            // --- Ambient Sound Hovers ---
            // Ensure elements exist before adding listeners
            const featuresSection = document.getElementById('features');
            const charactersSection = document.getElementById('characters');
            const farmSection = document.getElementById('farm');

            if (featuresSection) {
                featuresSection.addEventListener('mouseenter', () => playChirpSound());
                featuresSection.addEventListener('mouseleave', () => { if (chirpSynth) chirpSynth.triggerRelease(); });
            }

            if (charactersSection) {
                charactersSection.addEventListener('mouseenter', () => playRustleSound());
                charactersSection.addEventListener('mouseleave', () => { if (rustleSynth) rustleSynth.triggerRelease(); });
            }

            if (farmSection) {
                farmSection.addEventListener('mouseenter', () => playWaterSound());
                farmSection.addEventListener('mouseleave', () => { if (waterSynth) waterSynth.triggerRelease(); });
            }

            // Event listener for the new Music Toggle button
            musicToggleButton.addEventListener('click', toggleBackgroundMusic);
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
                
                const mobileMenu = document.getElementById('mobile-menu');
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        // Parallax effect for header and other parallax-bg elements
        window.addEventListener('scroll', function() {
            const scrollPosition = window.pageYOffset;
            
            // Hero parallax
            const heroParallaxElement = document.querySelector('header.parallax');
            if (heroParallaxElement) {
                heroParallaxElement.style.backgroundPositionY = `calc(50% + ${scrollPosition * 0.5}px)`;
            }

            // Other parallax-bg elements (only apply to elements that still have this class)
            // The farm images no longer have this class, so they won't be affected.
            document.querySelectorAll('.parallax-bg').forEach(img => {
                const section = img.closest('section');
                if (section) {
                    const sectionTop = section.offsetTop;
                    const relativeScroll = scrollPosition - sectionTop;
                    img.style.transform = `translateY(${relativeScroll * 0.2}px)`;
                }
            });
        });

        // Cloud animation for hero section (keyframes are in the main style block now)
    </script>
</body>
</html>
